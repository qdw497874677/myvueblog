{"remainingRequest":"D:\\java工作空间\\vueblog\\vueblog-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\java工作空间\\vueblog\\vueblog-vue\\src\\axios.js","dependencies":[{"path":"D:\\java工作空间\\vueblog\\vueblog-vue\\src\\axios.js","mtime":1590753935736},{"path":"D:\\java工作空间\\vueblog\\vueblog-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\java工作空间\\vueblog\\vueblog-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBFbGVtZW50IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4vc3RvcmUnOyAvLyDpu5jorqTor7fmsYJ1cmzliY3nvIAKCmF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSAiaHR0cDovL2xvY2FsaG9zdDo4MDgxIjsgLy8g5YmN572u5oum5oiqCgpheGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIHJldHVybiBjb25maWc7Cn0pOyAvLyDlkI7nva7mi6bmiKoKCmF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgdmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7CiAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09Iik7CiAgY29uc29sZS5sb2cocmVzKTsKICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT0iKTsKCiAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgIHJldHVybiByZXNwb25zZTsKICB9IGVsc2UgewogICAgRWxlbWVudC5NZXNzYWdlLmVycm9yKCcg5aSx6LSlICcsIHsKICAgICAgZHVyYXRpb246IDMgKiAxMDAwCiAgICB9KTsgLy8g6KGo5piO5Yiw6L+Z6YeM57uT5p2fCgogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlLmRhdGEubXNnKTsKICB9Cn0sIC8vIOWvueS6juaKpemUmQpmdW5jdGlvbiAoZXJyb3IpIHsKICBjb25zb2xlLmxvZyhlcnJvcik7CgogIGlmIChlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICBlcnJvci5tZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5tc2c7CiAgfQoKICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgIHN0b3JlLmNvbW1pdCgiUkVNT1ZFX0lORk8iKTsKICAgIHJvdXRlci5wdXNoKCIvbG9naW4iKTsKICB9CgogIEVsZW1lbnQuTWVzc2FnZS5lcnJvcihlcnJvci5tZXNzYWdlLCB7CiAgICBkdXJhdGlvbjogMyAqIDEwMDAKICB9KTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTs="},{"version":3,"sources":["D:/java工作空间/vueblog/vueblog-vue/src/axios.js"],"names":["axios","Element","router","store","defaults","baseURL","interceptors","request","use","config","response","res","data","console","log","code","Message","error","duration","Promise","reject","msg","message","status","commit","push"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB,C,CAEA;;AACAH,KAAK,CAACI,QAAN,CAAeC,OAAf,GAAyB,uBAAzB,C,CAEA;;AACAL,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAAC,MAAM,EAAI;AACvC,SAAOA,MAAP;AACD,CAFD,E,CAIA;;AACAT,KAAK,CAACM,YAAN,CAAmBI,QAAnB,CAA4BF,GAA5B,CAAgC,UAAAE,QAAQ,EAAI;AACxC,MAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAnB;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;;AAEA,MAAIH,GAAG,CAACI,IAAJ,KAAa,GAAjB,EAAsB;AACpB,WAAOL,QAAP;AACD,GAFD,MAEO;AAELT,IAAAA,OAAO,CAACe,OAAR,CAAgBC,KAAhB,CAAsB,MAAtB,EAA8B;AAACC,MAAAA,QAAQ,EAAE,IAAI;AAAf,KAA9B,EAFK,CAGH;;AACF,WAAOC,OAAO,CAACC,MAAR,CAAeV,QAAQ,CAACE,IAAT,CAAcS,GAA7B,CAAP;AACD;AACF,CAfH,EAgBI;AACF,UAAAJ,KAAK,EAAI;AACPJ,EAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;;AACA,MAAGA,KAAK,CAACP,QAAN,CAAeE,IAAlB,EAAwB;AACtBK,IAAAA,KAAK,CAACK,OAAN,GAAgBL,KAAK,CAACP,QAAN,CAAeE,IAAf,CAAoBS,GAApC;AACD;;AAED,MAAGJ,KAAK,CAACP,QAAN,CAAea,MAAf,KAA0B,GAA7B,EAAkC;AAChCpB,IAAAA,KAAK,CAACqB,MAAN,CAAa,aAAb;AACAtB,IAAAA,MAAM,CAACuB,IAAP,CAAY,QAAZ;AACD;;AAEDxB,EAAAA,OAAO,CAACe,OAAR,CAAgBC,KAAhB,CAAsBA,KAAK,CAACK,OAA5B,EAAqC;AAACJ,IAAAA,QAAQ,EAAE,IAAI;AAAf,GAArC;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeH,KAAf,CAAP;AACD,CA9BH","sourcesContent":["import axios from 'axios'\r\nimport Element from 'element-ui'\r\nimport router from './router'\r\nimport store from './store'\r\n\r\n// 默认请求url前缀\r\naxios.defaults.baseURL = \"http://localhost:8081\"\r\n\r\n// 前置拦截\r\naxios.interceptors.request.use(config => {\r\n  return config\r\n})\r\n\r\n// 后置拦截\r\naxios.interceptors.response.use(response => {\r\n    let res = response.data;\r\n\r\n    console.log(\"=================\")\r\n    console.log(res)\r\n    console.log(\"=================\")\r\n\r\n    if (res.code === 200) {\r\n      return response\r\n    } else {\r\n\r\n      Element.Message.error(' 失败 ', {duration: 3 * 1000})\r\n        // 表明到这里结束\r\n      return Promise.reject(response.data.msg)\r\n    }\r\n  },\r\n    // 对于报错\r\n  error => {\r\n    console.log(error)\r\n    if(error.response.data) {\r\n      error.message = error.response.data.msg\r\n    }\r\n\r\n    if(error.response.status === 401) {\r\n      store.commit(\"REMOVE_INFO\")\r\n      router.push(\"/login\")\r\n    }\r\n\r\n    Element.Message.error(error.message, {duration: 3 * 1000})\r\n    return Promise.reject(error)\r\n  }\r\n)"]}]}